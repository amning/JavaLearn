# Struts2 概述
1. Struts2是一种基于MVC设计模式的Web应用框架
2. Struts2本质上相当于一个servlet,作为控制器(Controller)来建立模型与视图的数据交互。
3. Struts2的功能：通过增加过滤器，实现不同的操作，调用类里面的不同的方法，避免了写太多的servlet，方便维护。
4. web层常见框架：Struts2、SpringMVC
## Struts2创建步骤
1. 导入Struts2相关jar包
2. 创建action
3. 配置action访问路径
    1. <a name="hexin">创建struts2核心配置文件</a>：src/struts.xml(位置与文件名固定)
    2. 引入dtd约束
    3. 配置过滤器
    
## Struts2执行过程（未掌握）
访问-->过滤器拦截-->寻找相对应功能-->执行方法
过滤器：
1. 获取请求路径-->得到路径里面的hello值
2. 到src下面找到xml，使用dom4j解析，得到xml文件内容-->寻找action标签hello值，匹配name属性值是否一样
3. 找到name属性所在action标签里面另外一个属性class值-->得到action全路径，实现反射实现功能
    * 反射代码详解：
    
      `  Class clazz = Class.forName("action全路径");`
      
       ` Method m = clazz.getMethod("execute");`
       
      `  Object obj = m.invoke();`
4. 得到action方法的返回值，在struts配置文件中，找到action标签里面有result标签，匹配result标签的name属性值是否一样，如果一样跳转到配置页面中     

##  Struts2核心配置文件 
1. 固定名称：struts.xml；固定位置:/src
2. 常见标签：
    * package：类似于代码包，区别不同的action，要配置action，必须首先写package；
        * name：单纯名称，没有要求。一个配置文件中可以写多个package，name值必须不同
        * extends：属性值固定：struts-default 表示package里面配置的类具有action功能
        * namespace:和action 中name 的值组成访问路径，默认值为 `/`
    * action：配置action访问路径
        * name ：与package--namespace中name 的值组成访问路径
        * class ：action类的全路径
        * method ：让action中执行其他多个方法
    * result ：根据action方法返回值，配置到不同的路径里面，
        * name ：action方法返回值一致
        * type ：配置如何到路径中（转发或者重定向）默认值为转发
        
            实例：
        ````xml
        <struts>
            <package name="hellodemo" extends="struts-default" namespace="/">
                <action name="hello" class="action.HelloAction">
                    <result name="ok">/hello.jsp</result>
                </action>
            </package>
        </struts>
        ````
    * constant ：常量修改
        * name：struts.i18n.encoding
        * value:UTF-8
## 分模块开发
多人开发方式： 单独写配置文件，把配置文件引入struts.xml中。在struts.xml使用include标签

`<include file="action/hello.xml"></include>`

## Action编写方式
1. Action的三种编写方式
    1. 创建普通类，不继承，不实现 （基本可以实现所有需要的功能）
    2. 创建类，实现接口：Action （不常用，因为必须实现接口中的方法）
    3. 创建类，继承：ActionSupport（最常用,实际ActionSupport已实现了Action接口）
2. Action中方法的三种实现方式（重点）
   1. 使用action标签的method属性，在这个属性里面写执行的action的方法
   
        `<action name="add" class="action.method.BookAction" method="add">`
        * 缺陷：每个方法都要配置一个action 如果方法太多，不合适
   2. 使用通配符方式实现（重点）
        在action标签里面name属性值里面写`*` 表示匹配任意内容

        `<action name="book_*" class="action.method.BookAction" method="{1}"></action>`
   3. 动态访问（不常用）

# 结果页面配置
   1. result标签配置action方法的返回值到不同的界面
   2. 